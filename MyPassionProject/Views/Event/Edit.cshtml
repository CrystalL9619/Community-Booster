﻿@model MyPassionProject.Models.ViewModels.UpdateEvent

@{
    ViewBag.Title = "Edit";
}

<h2>Edit Your Postings</h2>

<div class="card-body">
    <form method="POST" action="@Url.Action("Update", "Event", new { id = Model.SelectedEvent.EventId })" enctype="multipart/form-data">
        <input type="text" style="display:none;" name="EventId" value="@Model.SelectedEvent.EventId" />
        <div class="form-group mb-3">
            <label>Title:</label> <input type="text" class="form-control" name="Title" value="@Model.SelectedEvent.Title" required/>
        </div>
        <div class="form-group mb-3">
            <label>Location:</label> <input type="text" class="form-control" name="Location" value="@Model.SelectedEvent.Location" required/>
        </div>
        <div class="form-group mb-3">
            <label> Date & Time:</label> <input type="text" class="form-control" name="EventDateTime" value="@Model.SelectedEvent.EventDateTime" required />
        </div>
        <div class="form-group mb-3">
            <label> Capacity:</label> <input type="text" class="form-control" name="Capacity" value="@Model.SelectedEvent.Capacity" required />
        </div>
        <div class="form-group mb-3">
            <label> Details:</label> <textarea type="text" class="form-control" name="Details" value="@Model.SelectedEvent.Details" /></textarea>
        </div>
        <div class="mb-3">
            <label>Category Id:</label>
            <select name="CategoryId">
                @foreach (var Category in Model.CategoryOptions)
                {
                    string selected = "";
                    if (Category.CategoryId == Model.SelectedEvent.CategoryId)
                    {
                        selected = "selected";
                    }
                    <option value="@Category.CategoryId" @selected>@Category.CategoryName</option>

                }
            </select>
        </div>
        <div class="mb-3">
            <label>Image: </label>
            <input type="file" name="EventImage" accept="image/*" />
            <p style="color:red; font-size:small;">* .jpeg, .jpg, .png, .gif ONLY</p>
        </div>

        <div class="form-group mb-3">
            <input type="submit" class="btn btn-primary" value="Update" />
            <a href="@Url.Action("Find", "Event", new { id = Model.SelectedEvent.EventId })" class="btn btn-secondary">Cancel</a>
        </div>
        

    </form>
    <br />
</div>